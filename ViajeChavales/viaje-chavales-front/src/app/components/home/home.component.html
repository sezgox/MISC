<app-navbar></app-navbar>
<div class="content">
  <app-invite></app-invite>
  <form action="">
    <div class="form">
      <mat-form-field style="min-width: 350px; ">
        <mat-label>Selecciona un periodo del año</mat-label>
        <mat-select [(value)]="selectedPeriod" (selectionChange)="getFreedays()">
          @for (yp of yearPeriods; track $index) {
            <mat-option [value]="yp">{{yp}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Selecciona el año</mat-label>
        <mat-select [(value)]="selectedYear" (selectionChange)="getFreedays()">
          @for (y of yearOptions; track $index) {
            <mat-option [value]=y>{{y}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>
    <div class="form-item">
      <label for="showTrips">Mostrar también fechas viajes propuestos</label>
      <input type="checkbox" name="showTrips" id="showTrips" (change)="getTrips()" [(ngModel)]="showTrips">
    </div>
  </form>
  @if (freedays().length > 0) {
    <app-graph [freedays]="freedays()" [showTrips]="showTrips" [trips]="trips"></app-graph>
  }@else {
    <p style="font-size: small; font-weight: 400;">Nadie ha registrado días libres para {{selectedPeriod}} del {{selectedYear}}...</p>
  }
</div>
