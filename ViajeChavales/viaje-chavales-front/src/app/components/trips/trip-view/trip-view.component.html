<app-navbar></app-navbar>
@if(loading()){
  <div style="width: 100%; height: 100vh; display: flex;">
    <div style="margin: auto;">
      <mat-spinner></mat-spinner>
      <p style="width: 100%; text-align: center;">Cargando...</p>
    </div>
  </div>
}@else {
  <div class="content">
    @if (trip) {
      @if (isOwner) {
        <button
        class="btn edit" (click)="onEdit = !onEdit"
        title="Editar">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="var(--background-contrast-color)" d="M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"/></svg>
        </button>
    }
      <h4 style="margin-bottom: 8px;">Viaje #{{trip.id}} - {{trip.destination}}      </h4>
      <h5 style="margin-top: 0;">By {{trip.userId}}</h5>
      <div class="trip-info">
        <div class="trip-info-item">
          <label class="trip-info-item-label">Fecha de inicio:</label>
          <span class="trip-info-item-value" [innerHTML]=" (trip.startDate | date:'dd/MM/yyyy') "></span>
        </div>
        <div class="trip-info-item">
          <label class="trip-info-item-label">Fecha de fin:</label>
          <span class="trip-info-item-value" [innerHTML]=" (trip.endDate | date:'dd/MM/yyyy') "></span>
        </div>
        <div class="trip-info-item">
          <label class="trip-info-item-label">Chavales:</label>
          <div style="display: flex; flex-direction: column; margin-left: auto;">
            <span>djoisal</span>
            <span>dmlkdsn</span>
            @for (pt of trip.participants; track $index) {
              <span>{{pt}}</span>

            }
          </div>
        </div>
        <div class="trip-info-item">
          <label for="">Alojamiento:</label>
          <span>
            <a [href]="trip.accomodation">Link a la web</a>
          </span>
        </div>
        <div class="trip-info-item">
          <label for="">Precio (por persona):</label>
          <span>
            {{trip.price}}
          </span>
        </div>
        <div class="trip-info-item">
          <label for="">Otros detalles:</label>
          <p>
            {{trip.details}}
          </p>
        </div>
      </div>
      <label for="">Comentarios:</label>
      <!-- TODO: OBTENER COMENTARIOS -->
      <mat-form-field style="width: 100%;">
        <textarea matInput name="comment" id="comment" [placeholder]="'Hazle saber a ' + trip.userId + ' lo que piensas...' " ></textarea>
      </mat-form-field>
      <button class="btn btn-primary" style="margin-left: auto; display: flex;">Enviar</button>
<!--       <mat-form-field style="width: 100%; ">
        <mat-label>Fechas de inicio y fin:</mat-label>
        <mat-date-range-input  [rangePicker]="picker">
          <input matStartDate formControlName="start" placeholder="Start date" [value]="trip.startDate" >
          <input matEndDate formControlName="end" placeholder="End date" [value]="trip.endDate" >
        </mat-date-range-input>
        <mat-hint style="color: light-dark( var(--dark-color), var(--light-color));">Fecha anterior: <span [innerHTML]=" (previousStart | date:'dd/MM/yyyy')"></span> â€“ <span [innerHTML]=" (previousEnd | date:'dd/MM/yyyy')  "></span></mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker disabled="false"></mat-date-range-picker>
      </mat-form-field> -->
    }@else {
      <p>Viaje no encontrado</p>
    }
  </div>
}

